<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link rel="stylesheet" href="index.css" />
    <link
      rel="stylesheet"
      href="vendors/node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="vendors/node_modules/bootstrap-icons/font/bootstrap-icons.css"
    />

    <script src="vendors/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="vendors/node_modules/jquery/dist/jquery.min.js"></script>
  </head>
  <body class="" style="max-width: 100% !important; ">
    <div>
      <div id="drag" class="draggable-element" style="min-width: 200px">
        <div id="dragheader" class="d-flex justify-content-between">
          <div class="ms-2">Bilgi Tablosu</div>
          <div>
            <button id="pin" class="btn btn-link p-0" role="button">
              <i
                class="bi bi-pin-fill text-white d-inline-block rotate-pin-back"
              ></i>
            </button>
          </div>
          <div class="me-2">
            <button
              id="_collapse"
              class="btn btn-link p-0"
              data-bs-toggle="collapse"
              href="#collapseExample"
              role="button"
              aria-expanded="false"
              aria-controls="collapseExample"
            >
              <i id="chevron-arrow" class="bi bi-chevron-left text-white"></i>
            </button>
          </div>
        </div>
        <div class="collapse" id="collapseExample">
          <table class="table table-hover m-0">
            <thead>
              <tr>
                <th>Değer</th>
                <th>Açıklama</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>5</td>
                <td>Çok İyi</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="index.js"></script>
    <script>
      function pin(icon) {
        icon.removeClass("rotate-pin-back").addClass("rotate-pin");

        // uncollapse info table
        if (!$("#chevron-arrow").hasClass("rotate-arrow") === true){
          $("#_collapse").trigger("click");
        }
      }
      function unPin(icon) {
        icon.removeClass("rotate-pin").addClass("rotate-pin-back");
      }

      $(document).ready(() => {
        let dragInfo = new Draggable("#drag", "body");

        $("#_collapse").click(() => {
          $("#chevron-arrow").toggleClass("rotate-arrow");
        });

        $("#pin").click(() => {
          const icon = $("#pin i");

          if (icon.hasClass("rotate-pin")) {
            unPin(icon);
          } else {
            pin(icon);
          }
        });

      });
    </script>
  </body>
</html>
